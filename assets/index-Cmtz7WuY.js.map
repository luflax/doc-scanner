{"version":3,"file":"index-Cmtz7WuY.js","sources":["../../src/components/common/ErrorBoundary.tsx","../../src/components/layout/Header.tsx","../../src/components/layout/BottomNavigation.tsx","../../src/components/common/Toast.tsx","../../src/app/App.tsx","../../src/main.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { Button } from './Button';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n}\n\n/**\n * ErrorBoundary Component\n * Catches JavaScript errors anywhere in the child component tree\n */\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n    };\n  }\n\n  static getDerivedStateFromError(error: Error): Partial<State> {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n\n    this.setState({\n      error,\n      errorInfo,\n    });\n\n    // Call optional error callback\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // Log to external service in production\n    if (import.meta.env.MODE === 'production') {\n      // TODO: Log to error tracking service (e.g., Sentry)\n      console.error('Production error:', {\n        error: error.toString(),\n        componentStack: errorInfo.componentStack,\n        userAgent: navigator.userAgent,\n        timestamp: new Date().toISOString(),\n      });\n    }\n  }\n\n  handleReset = (): void => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null,\n    });\n  };\n\n  handleReload = (): void => {\n    window.location.reload();\n  };\n\n  render(): ReactNode {\n    if (this.state.hasError) {\n      // Custom fallback UI if provided\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // Default error UI\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6\">\n            <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4\">\n              <svg\n                className=\"w-6 h-6 text-red-600\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                />\n              </svg>\n            </div>\n\n            <h2 className=\"text-xl font-semibold text-gray-900 text-center mb-2\">\n              Something went wrong\n            </h2>\n\n            <p className=\"text-gray-600 text-center mb-6\">\n              We're sorry for the inconvenience. The application encountered an unexpected error.\n            </p>\n\n            {import.meta.env.MODE === 'development' && this.state.error && (\n              <div className=\"mb-6 p-4 bg-gray-100 rounded-lg overflow-auto max-h-48\">\n                <p className=\"text-sm font-mono text-red-600 mb-2\">\n                  {this.state.error.toString()}\n                </p>\n                {this.state.errorInfo && (\n                  <pre className=\"text-xs text-gray-700 overflow-auto\">\n                    {this.state.errorInfo.componentStack}\n                  </pre>\n                )}\n              </div>\n            )}\n\n            <div className=\"flex gap-3\">\n              <Button\n                onClick={this.handleReset}\n                variant=\"outline\"\n                className=\"flex-1\"\n              >\n                Try Again\n              </Button>\n              <Button\n                onClick={this.handleReload}\n                variant=\"primary\"\n                className=\"flex-1\"\n              >\n                Reload App\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","import React from 'react';\nimport { useStore } from '@/store';\n\nexport const Header: React.FC = () => {\n  const currentView = useStore((state) => state.ui.currentView);\n\n  const getTitle = () => {\n    switch (currentView) {\n      case 'camera':\n        return 'Document Scanner';\n      case 'crop':\n        return 'Crop Document';\n      case 'enhance':\n        return 'Enhance';\n      case 'ocr':\n        return 'Extract Text';\n      case 'documents':\n        return 'My Documents';\n      case 'export':\n        return 'Export';\n      default:\n        return 'Document Scanner';\n    }\n  };\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-30 bg-white border-b border-gray-200 pt-safe\">\n      <div className=\"flex items-center justify-between px-4 h-14\">\n        <h1 className=\"text-lg font-semibold text-gray-900\">{getTitle()}</h1>\n        <div className=\"flex items-center gap-2\">\n          {/* Placeholder for menu/settings buttons */}\n        </div>\n      </div>\n    </header>\n  );\n};\n","import React from 'react';\nimport { useStore } from '@/store';\nimport type { ViewType } from '@/types';\n\nexport const BottomNavigation: React.FC = () => {\n  const currentView = useStore((state) => state.ui.currentView);\n  const setCurrentView = useStore((state) => state.setCurrentView);\n\n  const navItems: Array<{ view: ViewType; label: string; icon: string }> = [\n    { view: 'camera', label: 'Camera', icon: 'ðŸ“·' },\n    { view: 'documents', label: 'Documents', icon: 'ðŸ“„' },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 z-30 bg-white border-t border-gray-200 pb-safe\">\n      <div className=\"flex items-center justify-around h-16\">\n        {navItems.map((item) => (\n          <button\n            key={item.view}\n            onClick={() => setCurrentView(item.view)}\n            className={`flex flex-col items-center justify-center flex-1 h-full transition-colors ${\n              currentView === item.view\n                ? 'text-primary-600'\n                : 'text-gray-500 hover:text-gray-700'\n            }`}\n          >\n            <span className=\"text-2xl mb-1\">{item.icon}</span>\n            <span className=\"text-xs font-medium\">{item.label}</span>\n          </button>\n        ))}\n      </div>\n    </nav>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useStore } from '@/store';\nimport type { Toast as ToastType } from '@/types';\n\nconst ToastItem: React.FC<{ toast: ToastType }> = ({ toast }) => {\n  const removeToast = useStore((state) => state.removeToast);\n\n  useEffect(() => {\n    const duration = toast.duration || 3000;\n    const timer = setTimeout(() => {\n      removeToast(toast.id);\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [toast.id, toast.duration, removeToast]);\n\n  const typeClasses = {\n    success: 'toast-success',\n    error: 'toast-error',\n    warning: 'toast-warning',\n    info: 'toast-info',\n  };\n\n  return (\n    <div className={`toast ${typeClasses[toast.type]} mb-2`}>\n      <p className=\"text-sm font-medium\">{toast.message}</p>\n    </div>\n  );\n};\n\nexport const ToastContainer: React.FC = () => {\n  const toasts = useStore((state) => state.ui.toasts);\n\n  if (toasts.length === 0) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      {toasts.map((toast) => (\n        <ToastItem key={toast.id} toast={toast} />\n      ))}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useStore } from '@/store';\nimport { ErrorBoundary } from '@/components/common/ErrorBoundary';\nimport { OfflineIndicator } from '@/components/common/OfflineIndicator';\nimport { Header } from '@/components/layout/Header';\nimport { BottomNavigation } from '@/components/layout/BottomNavigation';\nimport { ToastContainer } from '@/components/common/Toast';\nimport { CameraView } from '@/components/camera/CameraView';\nimport { CropView } from '@/components/crop/CropView';\nimport { EnhanceView } from '@/components/enhance/EnhanceView';\nimport { DocumentsView } from '@/components/documents/DocumentsView';\nimport { DocumentDetailView } from '@/components/documents/DocumentDetailView';\nimport { OCRView } from '@/components/ocr/OCRView';\nimport { ExportView } from '@/components/export/ExportView';\n\nfunction App() {\n  const currentView = useStore((state) => state.ui.currentView);\n\n  const renderView = () => {\n    switch (currentView) {\n      case 'camera':\n        return <CameraView />;\n      case 'crop':\n        return <CropView />;\n      case 'enhance':\n        return <EnhanceView />;\n      case 'documents':\n        return <DocumentsView />;\n      case 'detail':\n        return <DocumentDetailView />;\n      case 'ocr':\n        return <OCRView />;\n      case 'export':\n        return <ExportView />;\n      default:\n        return <CameraView />;\n    }\n  };\n\n  return (\n    <ErrorBoundary>\n      <div className=\"flex flex-col h-screen overflow-hidden bg-white\">\n        <Header />\n        <main className=\"flex-1 overflow-hidden mt-14 mb-16\">\n          {renderView()}\n        </main>\n        <BottomNavigation />\n        <ToastContainer />\n      </div>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './app/App';\nimport './styles/globals.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["ErrorBoundary","Component","constructor","props","super","__publicField","this","setState","hasError","error","errorInfo","window","location","reload","state","getDerivedStateFromError","componentDidCatch","onError","render","fallback","className","children","jsxs","jsx","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","Button","onClick","handleReset","variant","handleReload","Header","currentView","useStore","ui","getTitle","BottomNavigation","setCurrentView","view","label","icon","map","item","ToastItem","toast","removeToast","useEffect","duration","timer","setTimeout","id","clearTimeout","success","warning","info","type","message","ToastContainer","toasts","length","App","CameraView","CropView","EnhanceView","DocumentsView","DocumentDetailView","OCRView","ExportView","ReactDOM","createRoot","document","getElementById","React","StrictMode"],"mappings":"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"}