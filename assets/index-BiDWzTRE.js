const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/camera-BcjNYq1x.js","assets/react-vendor-DmQDSmdE.js","assets/vendor-DsI9Cwdy.js","assets/zustand-vendor-CAwqQeLl.js","assets/services-B0EPmGK0.js","assets/db-vendor-7JQXQzuE.js","assets/zip-vendor-BnyUYtAy.js","assets/tesseract-vendor-C8JZVqR3.js","assets/pdf-vendor-kgbuHCKQ.js","assets/crop-p4doMwPq.js","assets/enhance-BvHcUBvg.js","assets/documents-DYaYJ-7C.js","assets/ocr-DOy4wxEx.js","assets/export-MLslLfUA.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{r,j as s,a as n,R as o}from"./react-vendor-DmQDSmdE.js";import{_ as i}from"./pdf-vendor-kgbuHCKQ.js";import{B as a,u as c,S as l}from"./camera-BcjNYq1x.js";import"./vendor-DsI9Cwdy.js";import"./zustand-vendor-CAwqQeLl.js";import"./services-B0EPmGK0.js";import"./db-vendor-7JQXQzuE.js";import"./zip-vendor-BnyUYtAy.js";import"./tesseract-vendor-C8JZVqR3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class d extends r.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),t(this,"handleReload",()=>{window.location.reload()}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 text-center mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. The application encountered an unexpected error."}),!1,s.jsxs("div",{className:"flex gap-3",children:[s.jsx(a,{onClick:this.handleReset,variant:"outline",className:"flex-1",children:"Try Again"}),s.jsx(a,{onClick:this.handleReload,variant:"primary",className:"flex-1",children:"Reload App"})]})]})}):this.props.children}}function m(){const{isOffline:e}=function(){const[e,t]=r.useState("undefined"==typeof navigator||navigator.onLine);return r.useEffect(()=>{const e=()=>{t(!0)},r=()=>{t(!1)};window.addEventListener("online",e),window.addEventListener("offline",r);const s=setInterval(async()=>{try{const e=await fetch("/favicon.ico",{method:"HEAD",cache:"no-cache"});t(e.ok)}catch{t(!1)}},3e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r),clearInterval(s)}},[]),{isOnline:e,isOffline:!e}}(),[t,n]=r.useState(!1);return r.useEffect(()=>{if(e){const e=setTimeout(()=>n(!0),300);return()=>clearTimeout(e)}n(!1)},[e]),t?s.jsx("div",{className:"fixed top-14 left-0 right-0 z-50 bg-yellow-500 text-white px-4 py-2 text-sm font-medium text-center shadow-md",role:"alert","aria-live":"polite",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})}),s.jsx("span",{children:"You're offline. Some features may not be available."})]})}):null}const u=()=>{const e=c(e=>e.ui.currentView);return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-30 bg-white border-b border-gray-200 pt-safe",children:s.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[s.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:(()=>{switch(e){case"camera":default:return"Document Scanner";case"crop":return"Crop Document";case"enhance":return"Enhance";case"ocr":return"Extract Text";case"documents":return"My Documents";case"export":return"Export"}})()}),s.jsx("div",{className:"flex items-center gap-2"})]})})},h=()=>{const e=c(e=>e.ui.currentView),t=c(e=>e.setCurrentView);return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white border-t border-gray-200 pb-safe",children:s.jsx("div",{className:"flex items-center justify-around h-16",children:[{view:"camera",label:"Camera",icon:"ðŸ“·"},{view:"documents",label:"Documents",icon:"ðŸ“„"}].map(r=>s.jsxs("button",{onClick:()=>t(r.view),className:"flex flex-col items-center justify-center flex-1 h-full transition-colors "+(e===r.view?"text-primary-600":"text-gray-500 hover:text-gray-700"),children:[s.jsx("span",{className:"text-2xl mb-1",children:r.icon}),s.jsx("span",{className:"text-xs font-medium",children:r.label})]},r.view))})})},f=({toast:e})=>{const t=c(e=>e.removeToast);r.useEffect(()=>{const r=e.duration||3e3,s=setTimeout(()=>{t(e.id)},r);return()=>clearTimeout(s)},[e.id,e.duration,t]);return s.jsx("div",{className:`toast ${{success:"toast-success",error:"toast-error",warning:"toast-warning",info:"toast-info"}[e.type]} mb-2`,children:s.jsx("p",{className:"text-sm font-medium",children:e.message})})},x=()=>{const e=c(e=>e.ui.toasts);return 0===e.length?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>s.jsx(f,{toast:e},e.id))})},p=r.lazy(()=>i(()=>import("./camera-BcjNYq1x.js").then(e=>e.C),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(e=>({default:e.CameraView}))),j=r.lazy(()=>i(()=>import("./crop-p4doMwPq.js"),__vite__mapDeps([9,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.CropView}))),v=r.lazy(()=>i(()=>import("./enhance-BvHcUBvg.js"),__vite__mapDeps([10,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.EnhanceView}))),w=r.lazy(()=>i(()=>import("./documents-DYaYJ-7C.js").then(e=>e.D),__vite__mapDeps([11,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.DocumentsView}))),y=r.lazy(()=>i(()=>import("./documents-DYaYJ-7C.js").then(e=>e.a),__vite__mapDeps([11,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.DocumentDetailView}))),g=r.lazy(()=>i(()=>import("./ocr-DOy4wxEx.js"),__vite__mapDeps([12,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.OCRView}))),b=r.lazy(()=>i(()=>import("./export-MLslLfUA.js"),__vite__mapDeps([13,1,2,0,3,4,5,6,7,8])).then(e=>({default:e.ExportView})));function E(){return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(l,{size:"lg"})})}function _(){const e=c(e=>e.ui.currentView);return s.jsx(d,{children:s.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-white",children:[s.jsx(u,{}),s.jsx(m,{}),s.jsx("main",{className:"flex-1 overflow-hidden mt-14 mb-16",children:s.jsx(r.Suspense,{fallback:s.jsx(E,{}),children:(()=>{switch(e){case"camera":default:return s.jsx(p,{});case"crop":return s.jsx(j,{});case"enhance":return s.jsx(v,{});case"documents":return s.jsx(w,{});case"detail":return s.jsx(y,{});case"ocr":return s.jsx(g,{});case"export":return s.jsx(b,{})}})()})}),s.jsx(h,{}),s.jsx(x,{})]})})}n.createRoot(document.getElementById("root")).render(s.jsx(o.StrictMode,{children:s.jsx(_,{})}));
